# Databricks DLT Apparel Pipeline

Goals:

- Ingesting and processing continuous data streams.
- Applying and managing data quality expectations.
- Implementing a medallion architecture in DLT.
- Handling historical data changes using Slowly Changing Dimensions (SCD Type 2).
- Creating business-ready, aggregated tables for analytics.

##  Architecture

- Databricks Free Edition
- Synthetic streaming data (generated by `data_generator.py`)
  - It imitates real world data
  - It generates 4 tables (a fact sales table, and 3 lookup tables - stores, customers, products)
- DLT pipeline
  - You'll create a DLT pipeline to ingest, clean and aggregate raw data.
  - The pipeline is organized into layers:
    - **Bronze layer** (`dlt/01_bronze.py`) - Raw data ingestion
    - **Silver layer** (`dlt/02A_silver.py`, `dlt/02B_silver.py`, `dlt/02C_silver.py`, `dlt/02D_silver.py`) - Cleaned and transformed data
    - **Gold layer** (`dlt/03_gold.py`) - Business-ready aggregations


##  Project Structure

The project is organized as follows:


- **Environment Setup:**

  - `environment_setup.ipynb` - Notebook to set up Unity Catalog (catalogs, schemas, volumes)
  - `environment_maintenance.ipynb` - Maintenance utilities for the environment
  - `variables.py` - Configuration file for catalog names, paths, and other settings

- **Data Generation:**

  - `data_generator.py` - Synthetic data generator that creates realistic streaming data

- **DLT Pipeline Files (Your Tasks):**

  - `01_bronze.py` - Bronze layer: Raw data ingestion from source files
  - `02A_silver.py` - Silver layer: Sales data cleaning and transformation
  - `02B_silver.py` - Silver layer: Customer dimension with SCD Type 2
  - `02C_silver.py` - Silver layer: Product dimension with SCD Type 2
  - `02D_silver.py` - Silver layer: Store dimension with SCD Type 2
  - `03_gold.py` - Gold layer: Business-ready aggregations and analytics

  **Note:** Each file contains tasks with requirements and a "Solution Is Below" section for reference.

### `final_code/` folder - Reference materials

- `final_dlt.py` - Complete solution for the entire pipeline when you need a full reference

**Learning Tip:** Each task file (`dlt/0*.py`) includes solution code in a "Solution Is Below" section. Try solving tasks yourself first, then check the solution if needed!

### Documentation

- `README.md` - This file, provides project overview
- `ProjectPlan.md` - Step-by-step instructions and tasks
- `SynteticDataGenerator.md` - Details about the data generator and schemas

---

